class e extends Error{constructor(e,t){super(`UtilifyException in ${e}: ${t}`),this.name="UtilifyException"}}const t={B:{divisor:1,label:"B"},KB:{divisor:1024,label:"KB"},MB:{divisor:1048576,label:"MB"},GB:{divisor:1024**3,label:"GB"},TB:{divisor:1024**4,label:"TB"}};function n(t,n){if("function"!=typeof t)throw new e(n,"First argument must be a function")}function r(e){return{success:!0,result:e}}function i(e){return{success:!1,error:e}}const o=function(e,t,n){n?.freezeBase&&Object.freeze(e);const r={...e,...t};return Object.freeze(r),r}({isJson:e=>{if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch{return!1}},isObject:e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,isEmpty:e=>null==e||("string"==typeof e?0===e.trim().length:Array.isArray(e)?0===e.length:"object"==typeof e&&0===Object.keys(e).length),capitalize:t=>{if("string"!=typeof t)throw new e("capitalize","Input must be a string");return t.charAt(0).toUpperCase()+t.slice(1)},toKebabCase:t=>{if("string"!=typeof t)throw new e("toKebabCase","Input must be a string");return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},toSnakeCase:t=>{if("string"!=typeof t)throw new e("toSnakeCase","Input must be a string");return t.replace(/([a-z])([A-Z])/g,"$1_$2").replace(/[\s-]+/g,"_").toLowerCase()},trim:t=>{if("string"!=typeof t)throw new e("trim","Input must be a string");return t.trim()},removeAccents:t=>{if("string"!=typeof t)throw new e("removeAccents","Input must be a string");return""===t?"":t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},getFileExtension:e=>{if(!e||"string"!=typeof e)return"";const t=e.split("?")[0].split("#")[0].split(/[/\\]/),n=t[t.length-1],r=n.lastIndexOf(".");return-1===r||0===r?"":n.substring(r+1).toLowerCase()},getFileSize:(n,r)=>{!function(n){if(!Object.keys(t).includes(n))throw new e("getFileSize",`Invalid unit '${n}': must be one of ${Object.keys(t).join(", ")}`)}(r);const i=function(t){if(t instanceof Blob||"undefined"!=typeof File&&t instanceof File)return t.size;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t))return t.length;if("object"==typeof t&&null!==t&&"size"in t){const e=t.size;if("number"==typeof e&&isFinite(e)&&e>=0)return e}throw new e("getFileSize","Invalid input: expected File, Blob, Buffer, or object with valid numeric 'size' property")}(n),{divisor:o,label:s}=t[r];return`${(i/o).toFixed(2)} ${s}`},debounce:(t,n=250)=>{if("function"!=typeof t)throw new e("debounce","First argument must be a function");if("number"!=typeof n||n<0||!isFinite(n))throw new e("debounce","Delay must be a non-negative number");let r;return(...e)=>{clearTimeout(r),r=setTimeout(()=>t(...e),n)}},flow:function(...t){if(t.length<2)throw new e("flow","At least 2 functions are required");for(let n=0;n<t.length;n++)if("function"!=typeof t[n])throw new e("flow",`Argument at index ${n} is not a function`);return e=>t.reduce((e,t)=>t(e),e)},safeRun:function(e){n(e,"safeRun");try{return r(e())}catch(e){return i(e)}},safeRunAsync:async function(e){n(e,"safeRunAsync");try{return r(await e())}catch(e){return i(e)}},paginateArray:function(e,t){const n=t?.pageSize??10,r=t?.zeroBased??!1,i=t?.page??(r?0:1),o=e.length,s=Math.ceil(o/n);let a=i;r?(a<0&&(a=0),a>=s&&(a=Math.max(0,s-1))):(a<1&&(a=1),a>s&&(a=Math.max(1,s)));const u=(a-(r?0:1))*n;return{data:e.slice(u,u+n),currentPage:a,totalPages:s,totalItems:o,pageSize:n,hasNextPage:r?a<s-1:a<s,hasPreviousPage:r?a>0:a>1}}},{},{});export{o as default};
