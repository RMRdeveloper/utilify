function e(e,t,n){n?.freezeBase&&Object.freeze(e);const r={...e,...t};return n?.freezeResult&&Object.freeze(r),r}class t extends Error{constructor(e,t){super(`UtilifyException in ${e}: ${t}`),this.name="UtilifyException"}}const n={B:{divisor:1,label:"B"},KB:{divisor:1024,label:"KB"},MB:{divisor:1048576,label:"MB"},GB:{divisor:1024**3,label:"GB"},TB:{divisor:1024**4,label:"TB"}};function r(e,n){if("function"!=typeof e)throw new t(n,"First argument must be a function")}function i(e){return{success:!0,result:e}}function s(e){return{success:!1,error:e}}const o=e({isJson:e=>{if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch{return!1}},isObject:e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,isEmpty:e=>null==e||("string"==typeof e?0===e.trim().length:Array.isArray(e)?0===e.length:e instanceof Map||e instanceof Set?0===e.size:"object"==typeof e&&0===Object.keys(e).length),capitalize:e=>{if("string"!=typeof e)throw new t("capitalize","Input must be a string");return e.charAt(0).toUpperCase()+e.slice(1)},toKebabCase:e=>{if("string"!=typeof e)throw new t("toKebabCase","Input must be a string");return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},toSnakeCase:e=>{if("string"!=typeof e)throw new t("toSnakeCase","Input must be a string");return e.replace(/([a-z])([A-Z])/g,"$1_$2").replace(/[\s-]+/g,"_").toLowerCase()},trim:e=>{if("string"!=typeof e)throw new t("trim","Input must be a string");return e.trim()},removeAccents:e=>{if("string"!=typeof e)throw new t("removeAccents","Input must be a string");return""===e?"":e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},getFileExtension:e=>{if(!e||"string"!=typeof e)return"";const t=e.split("?")[0].split("#")[0].split(/[/\\]/),n=t[t.length-1],r=n.lastIndexOf(".");return-1===r||0===r?"":n.substring(r+1).toLowerCase()},getFileSize:(e,r)=>{!function(e){if(!Object.keys(n).includes(e))throw new t("getFileSize",`Invalid unit '${e}': must be one of ${Object.keys(n).join(", ")}`)}(r);const i=function(e){if(e instanceof Blob||"undefined"!=typeof File&&e instanceof File)return e.size;if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.length;if("object"==typeof e&&null!==e&&"size"in e){const t=e.size;if("number"==typeof t&&isFinite(t)&&t>=0)return t}throw new t("getFileSize","Invalid input: expected File, Blob, Buffer, or object with valid numeric 'size' property")}(e),{divisor:s,label:o}=n[r];return`${(i/s).toFixed(2)} ${o}`},debounce:(e,n=250)=>{if("function"!=typeof e)throw new t("debounce","First argument must be a function");if("number"!=typeof n||n<0||!isFinite(n))throw new t("debounce","Delay must be a non-negative number");let r;return(...t)=>{clearTimeout(r),r=setTimeout(()=>e(...t),n)}},flow:function(...e){if(e.length<2)throw new t("flow","At least 2 functions are required");for(let n=0;n<e.length;n++)if("function"!=typeof e[n])throw new t("flow",`Argument at index ${n} is not a function`);return t=>e.reduce((e,t)=>t(e),t)},safeRun:function(e){r(e,"safeRun");try{return i(e())}catch(e){return s(e)}},safeRunAsync:async function(e){r(e,"safeRunAsync");try{return i(await e())}catch(e){return s(e)}},paginateArray:function(e,t){const n=t?.pageSize??10,r=t?.zeroBased??!1,i=t?.page??(r?0:1),s=e.length,o=Math.ceil(s/n);let a=i;r?(a<0&&(a=0),a>=o&&(a=Math.max(0,o-1))):(a<1&&(a=1),a>o&&(a=Math.max(1,o)));const u=(a-(r?0:1))*n;return{data:e.slice(u,u+n),currentPage:a,totalPages:o,totalItems:s,pageSize:n,hasNextPage:r?a<o-1:a<o,hasPreviousPage:r?a>0:a>1}},createUtils:e},{},{freezeResult:!0});export{o as default};
